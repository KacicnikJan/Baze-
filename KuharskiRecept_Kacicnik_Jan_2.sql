DROP TABLE IF EXISTS EVIDENCA_SPREMENJENIH_JEDILNIKOV;
DROP TABLE IF EXISTS RECEPTI_has_SESTAVINE;
DROP TABLE IF EXISTS SESTAVINE_has_PROIZVAJALCI_SESTAVIN;
DROP TABLE IF EXISTS SESTAVINE_has_TRGOVINE;
DROP TABLE IF EXISTS JEDI_has_JEDILNIKI;
DROP TABLE IF EXISTS RECEPTI;
DROP TABLE IF EXISTS SESTAVINE;
DROP TABLE IF EXISTS PROIZVAJALCI_SESTAVIN;
DROP TABLE IF EXISTS TRGOVINE;
DROP TABLE IF EXISTS JEDI;
DROP TABLE IF EXISTS JEDILNIKI;
DROP TABLE IF EXISTS KOLICINE;
DROP TABLE IF EXISTS VIR;
DROP TABLE IF EXISTS OSEBE;
DROP TABLE IF EXISTS EMAIL;
DROP TABLE IF EXISTS NASLOV;
DROP TABLE IF EXISTS ULICA;
DROP TABLE IF EXISTS KRAJ;
DROP TABLE IF EXISTS DRZAVA;
DROP TABLE IF EXISTS CENE;
DROP TABLE IF EXISTS TIPI_VALUT;
DROP TABLE IF EXISTS CASOVI_KUHANJA;
DROP TABLE IF EXISTS CASOVI_PRIPRAV;
DROP TABLE IF EXISTS CASOVNE_KOLICINE;
DROP TABLE IF EXISTS TIPI_CASOVNIH_ENOT;
DROP TABLE IF EXISTS KOLICINE_CASOV;
DROP TABLE IF EXISTS TIPI_KOLICINSKIH_ENOT;
DROP TABLE IF EXISTS TIPI_VIROV;
DROP TABLE IF EXISTS TIPI_DOMEN;
DROP TABLE IF EXISTS TIPI_NAMENOV;
DROP TABLE IF EXISTS TIPI_JEDI;


CREATE TABLE TIPI_NAMENOV(
    ID INT NOT NULL,
    namen VARCHAR(20) NOT NULL
);

CREATE TABLE TIPI_JEDI(
    ID INT NOT NULL,
    vrsta VARCHAR(15)
);

CREATE TABLE TIPI_DOMEN(
    ID INT NOT NULL,
    naziv VARCHAR(15) NOT NULL
);

CREATE TABLE TIPI_VIROV(
    ID INT NOT NULL,
    tip VARCHAR(50) NOT NULL
);

CREATE TABLE TIPI_KOLICINSKIH_ENOT(
	ID INT NOT NULL,
    tip VARCHAR(15) NOT NULL
);

CREATE TABLE KOLICINE(
    ID INT NOT NULL,
    kolicina DECIMAL(8,2) NOT NULL,
    TIPI_KOLICINSKIH_ENOT_ID INT NOT NULL
);

CREATE TABLE TIPI_CASOVNIH_ENOT(
    ID INT NOT NULL,
    enota VARCHAR(10) NOT NULL
);

CREATE TABLE CASOVNE_KOLICINE(
    ID INT NOT NULL,
    cas DECIMAL(7,2) NOT NULL,
    CASOVNE_ENOTE_ID INT NOT NULL
);

CREATE TABLE CASOVI_PRIPRAV(
    ID INT NOT NULL,
    CASOVNE_KOLICINE_ID INT NOT NULL
);

CREATE TABLE CASOVI_KUHANJA(
    ID INT NOT NULL,
    CASOVNE_KOLICINE_ID INT NOT NULL
);

CREATE TABLE TIPI_VALUT(
    ID INT NOT NULL,
    valuta VARCHAR(20) NOT NULL
);

CREATE TABLE CENE(
    ID INT NOT NULL NOT NULL,
    cena DECIMAL(10,2) NOT NULL,
    TIPI_VALUT_ID INT NOT NULL
);

CREATE TABLE DRZAVA(
    ID INT NOT NULL,
    ime VARCHAR(25) NOT NULL
);

CREATE TABLE KRAJ(
    ID INT NOT NULL,
    ime VARCHAR(25) NOT NULL,
    DRZAVA_ID INT NOT NULL
);

CREATE TABLE ULICA(
    ID INT NOT NULL,
    ime VARCHAR(20),
    KRAJ_ID INT NOT NULL
);

CREATE TABLE NASLOV(
    ID INT NOT NULL,
    hisnaStevilka INT NOT NULL,
    ULICA_ID INT NOT NULL
);

CREATE TABLE EMAIL(
    ID INT NOT NULL,
    uporabniskoIme VARCHAR(20) NOT NULL,
    TIPI_DOMEN_ID INT NOT NULL
);

CREATE TABLE OSEBE(
    ID INT NOT NULL,
    ime VARCHAR(25),
    priimek VARCHAR(25),
    EMAIL_ID INT,
    NASLOV_ID INT
);

CREATE TABLE VIR(
    ID INT NOT NULL,
    OSEBE_ID INT,
    TIPI_VIROV_ID INT NOT NULL,
    nazivVira VARCHAR(50),
    naslov VARCHAR(150),
    stran INT
);

CREATE TABLE JEDILNIKI(
    ID INT NOT NULL,
    kdaj DATETIME NOT NULL,
    TIPI_NAMENOV_ID INT,
    OSEBE_ID INT
);

CREATE TABLE JEDI_has_JEDILNIKI(
    ID INT NOT NULL,
    JEDI_ID INT NOT NULL,
    JEDILNIKI_ID INT
);

CREATE TABLE JEDI(
    ID INT NOT NULL,
    ime VARCHAR(45),
    TIPI_JEDI_ID INT NOT NULL
);

CREATE TABLE TRGOVINE(
    ID INT NOT NULL,
    ime VARCHAR(20) NOT NULL,
    NASLOV_ID INT NOT NULL
);

CREATE TABLE SESTAVINE(
    ID INT NOT NULL,
    ime VARCHAR(20),
    CENE_ID INT 
);

CREATE TABLE PROIZVAJALCI_SESTAVIN(
    ID INT NOT NULL,
    ime VARCHAR(20) NOT NULL,
    NASLOV_ID INT NOT NULL
);

CREATE TABLE SESTAVINE_has_TRGOVINE(
    ID INT NOT NULL,
    SESTAVINE_ID INT NOT NULL,
    TRGOVINE_ID INT
);

CREATE TABLE SESTAVINE_has_PROIZVAJALCI_SESTAVIN(
    ID INT NOT NULL,
    SESTAVINE_ID INT NOT NULL,
    PROIZVAJALCI_SESTAVIN_ID INT
);

CREATE TABLE RECEPTI_has_SESTAVINE(
    ID INT NOT NULL,
    RECEPTI_ID INT NOT NULL,
    SESTAVINE_ID INT NOT NULL,
    KOLICINE_ID INT
);

CREATE TABLE RECEPTI(
    ID INT NOT NULL,
    JEDI_ID INT NOT NULL,
    CASOVI_PRIPRAV_ID INT NOT NULL,
    CASOVI_KUHANJA_ID INT NOT NULL,
    postopek BLOB(1000) NOT NULL,
    komentar BLOB(1000),
    VIR_ID INT
);

ALTER TABLE TIPI_NAMENOV ADD CONSTRAINT PK_tipi_namenov PRIMARY KEY(ID), MODIFY ID INTEGER NOT NULL AUTO_INCREMENT;

ALTER TABLE TIPI_JEDI ADD CONSTRAINT PK_tipi_jedi PRIMARY KEY(ID);

ALTER TABLE TIPI_DOMEN ADD CONSTRAINT PK_tipi_domen PRIMARY KEY(ID);

ALTER TABLE TIPI_VIROV ADD CONSTRAINT PK_tipi_virov PRIMARY KEY(id);

ALTER TABLE TIPI_KOLICINSKIH_ENOT ADD CONSTRAINT PK_tipi_kolicinskih_enot PRIMARY KEY(ID);

ALTER TABLE KOLICINE ADD CONSTRAINT PK_kolicine PRIMARY KEY(ID);

ALTER TABLE TIPI_CASOVNIH_ENOT ADD CONSTRAINT PK_tipi_casovnih_enot PRIMARY KEY(ID);

ALTER TABLE CASOVNE_KOLICINE ADD CONSTRAINT PK_casovne_kolicine PRIMARY KEY(ID);

ALTER TABLE CASOVI_PRIPRAV ADD CONSTRAINT PK_casovi_priprav PRIMARY KEY(ID);

ALTER TABLE CASOVI_KUHANJA ADD CONSTRAINT PK_casovi_kuhanja PRIMARY KEY(ID);

ALTER TABLE TIPI_VALUT ADD CONSTRAINT PK_tipi_valut PRIMARY KEY(ID);

ALTER TABLE CENE ADD CONSTRAINT PK_cene PRIMARY KEY(ID);

ALTER TABLE DRZAVA ADD CONSTRAINT PK_drzava PRIMARY KEY(ID);

ALTER TABLE KRAJ ADD CONSTRAINT PK_kraj PRIMARY KEY(ID);

ALTER TABLE ULICA ADD CONSTRAINT PK_ulica PRIMARY KEY(ID);

ALTER TABLE NASLOV ADD CONSTRAINT PK_naslov PRIMARY KEY(ID);

ALTER TABLE EMAIL ADD CONSTRAINT PK_email PRIMARY KEY(ID);

ALTER TABLE OSEBE ADD CONSTRAINT PK_osebe PRIMARY KEY(ID);

ALTER TABLE VIR ADD CONSTRAINT PK_vir PRIMARY KEY(ID), MODIFY ID INTEGER NOT NULL AUTO_INCREMENT;

ALTER TABLE JEDILNIKI ADD CONSTRAINT PK_jedilniki PRIMARY KEY(ID), MODIFY ID INTEGER NOT NULL AUTO_INCREMENT;

ALTER TABLE JEDI_has_JEDILNIKI ADD CONSTRAINT PK_jedi_has_jedilniki PRIMARY KEY(ID);

ALTER TABLE JEDI ADD CONSTRAINT PK_jedi PRIMARY KEY(ID);

ALTER TABLE TRGOVINE ADD CONSTRAINT PK_trgovine PRIMARY KEY(ID);

ALTER TABLE PROIZVAJALCI_SESTAVIN ADD CONSTRAINT PK_proizvajalci_sestavin PRIMARY KEY(ID);

ALTER TABLE SESTAVINE_has_TRGOVINE ADD CONSTRAINT PK_sestavine_has_trgovine PRIMARY KEY(ID);

ALTER TABLE SESTAVINE_has_PROIZVAJALCI_SESTAVIN ADD CONSTRAINT PK_sestavine_has_proizvajalci_sestavin PRIMARY KEY(ID);

ALTER TABLE SESTAVINE ADD CONSTRAINT PK_sestavine PRIMARY KEY(ID);

ALTER TABLE RECEPTI_has_SESTAVINE ADD CONSTRAINT PK_receptI_has_sestavine PRIMARY KEY(ID);

ALTER TABLE RECEPTI ADD CONSTRAINT PK_recepti PRIMARY KEY(ID);






ALTER TABLE CASOVNE_KOLICINE ADD CONSTRAINT FK_casovne_enote FOREIGN KEY(CASOVNE_ENOTE_ID) REFERENCES TIPI_CASOVNIH_ENOT(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE CASOVI_PRIPRAV ADD CONSTRAINT FK_casovne_kolicine_priprav FOREIGN KEY(CASOVNE_KOLICINE_ID) REFERENCES CASOVNE_KOLICINE(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE CASOVI_KUHANJA ADD CONSTRAINT FK_casovne_kolicine_kuhanja FOREIGN KEY(CASOVNE_KOLICINE_ID) REFERENCES CASOVNE_KOLICINE(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE KOLICINE ADD CONSTRAINT FK_kolicinske_enote FOREIGN KEY(TIPI_KOLICINSKIH_ENOT_ID) REFERENCES TIPI_KOLICINSKIH_ENOT(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE CENE ADD CONSTRAINT FK_tipi_valut FOREIGN KEY(TIPI_VALUT_ID) REFERENCES TIPI_VALUT(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE KRAJ ADD CONSTRAINT FK_drzava FOREIGN KEY(DRZAVA_ID) REFERENCES DRZAVA(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE ULICA ADD CONSTRAINT FK_kraj FOREIGN KEY(KRAJ_ID) REFERENCES KRAJ(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE NASLOV ADD CONSTRAINT FK_ulica FOREIGN KEY(ULICA_ID) REFERENCES ULICA(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE EMAIL ADD CONSTRAINT FK_tipi_domen FOREIGN KEY(TIPI_DOMEN_ID) REFERENCES TIPI_DOMEN(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE OSEBE ADD CONSTRAINT FK_email FOREIGN KEY(EMAIL_ID) REFERENCES EMAIL(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE OSEBE ADD CONSTRAINT FK_naslov FOREIGN KEY(NASLOV_ID) REFERENCES NASLOV(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE VIR ADD CONSTRAINT FK_tipi_virov FOREIGN KEY(TIPI_VIROV_ID) REFERENCES TIPI_VIROV(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE JEDILNIKI ADD CONSTRAINT FK_tipi_namenov FOREIGN KEY(TIPI_NAMENOV_ID) REFERENCES TIPI_NAMENOV(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE JEDILNIKI ADD CONSTRAINT FK_osebe FOREIGN KEY(OSEBE_ID) REFERENCES OSEBE(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE JEDI_has_JEDILNIKI ADD CONSTRAINT FK_jedi_jedilnika FOREIGN KEY(JEDI_ID) REFERENCES JEDI(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE JEDI_has_JEDILNIKI ADD CONSTRAINT FK_jedilniki FOREIGN KEY(JEDILNIKI_ID) REFERENCES JEDILNIKI(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE JEDI ADD CONSTRAINT FK_tipi_jedi FOREIGN KEY(TIPI_JEDI_ID) REFERENCES TIPI_JEDI(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE TRGOVINE ADD CONSTRAINT FK_trgovine_naslov FOREIGN KEY(NASLOV_ID) REFERENCES NASLOV(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE PROIZVAJALCI_SESTAVIN ADD CONSTRAINT FK_proizvjalaci_naslov FOREIGN KEY(NASLOV_ID) REFERENCES NASLOV(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE SESTAVINE_has_TRGOVINE ADD CONSTRAINT FK_sestavina_trgovine FOREIGN KEY(SESTAVINE_ID) REFERENCES SESTAVINE(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE SESTAVINE_has_TRGOVINE ADD CONSTRAINT FK_trgovina_sestavine FOREIGN KEY(TRGOVINE_ID) REFERENCES TRGOVINE(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE SESTAVINE_has_PROIZVAJALCI_SESTAVIN ADD CONSTRAINT FK_sestavina FOREIGN KEY(SESTAVINE_ID) REFERENCES SESTAVINE(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE SESTAVINE_has_PROIZVAJALCI_SESTAVIN ADD CONSTRAINT FK_proizvajalci_sestavine FOREIGN KEY(PROIZVAJALCI_SESTAVIN_ID) REFERENCES PROIZVAJALCI_SESTAVIN(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE SESTAVINE ADD CONSTRAINT FK_cene FOREIGN KEY(CENE_ID) REFERENCES CENE(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE RECEPTI_has_SESTAVINE ADD CONSTRAINT FK_recepti FOREIGN KEY(RECEPTI_ID) REFERENCES RECEPTI(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE RECEPTI_has_SESTAVINE ADD CONSTRAINT FK_sestavine FOREIGN KEY(SESTAVINE_ID) REFERENCES SESTAVINE(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE RECEPTI ADD CONSTRAINT FK_jed_recepta FOREIGN KEY(JEDI_ID) REFERENCES JEDI(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE RECEPTI ADD CONSTRAINT FK_casovi_priprav_recepta FOREIGN KEY(CASOVI_PRIPRAV_ID) REFERENCES CASOVI_PRIPRAV(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE RECEPTI ADD CONSTRAINT FK_casovi_kuhanja_recepta FOREIGN KEY(CASOVI_KUHANJA_ID) REFERENCES CASOVI_KUHANJA(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE RECEPTI ADD CONSTRAINT FK_vir FOREIGN KEY(VIR_ID) REFERENCES VIR(ID) ON DELETE CASCADE ON UPDATE CASCADE;

INSERT INTO TIPI_NAMENOV
VALUES
(1, "Večerja"),
(2, "Rojstni dan"),
(3, "Kosilo"),
(4, "Zajterk"),
(5, "Obletnica");

INSERT INTO TIPI_JEDI
VALUES
(1, "Mesna jed"),
(2, "Enolončnica"),
(3, "Sladica"),
(4, "Predjed"),
(5, "Žar"),
(6, "Juha"),
(7, "Morska hrana"),
(8, "Testenine"),
(9, "Solata"),
(10, "Kruh");

INSERT INTO TIPI_DOMEN
VALUES
(1, "@gmail.com"),
(2, "@yahoo.com"),
(3, "@arnes.si"),
(4, "@student.um.si"),
(5, "@hotmail.com");

INSERT INTO TIPI_VIROV
VALUES
(1, "Revija"),
(2, "Interneta stran"),
(3, "Zapiski"),
(4, "Knjiga"),
(5, "TV oddaja");

INSERT INTO TIPI_KOLICINSKIH_ENOT
VALUES
(1, "l"),
(2, "ml"),
(3, "dl"),
(4, "gal"),
(5, "tablespoon"),
(6, "kg"),
(7, "g"),
(8, "dg"),
(9, "lbs"),
(10, "oz");

INSERT INTO KOLICINE
VALUES
(1, 2.5 , 6),
(2, 300, 7),
(3, 153, 10),
(4, 500.5, 8),
(5, 1, 1),
(6, 20, 5),
(7, 5.5, 7),
(8, 10.53, 9),
(9, 1, 3),
(10, 800, 2);

INSERT INTO TIPI_CASOVNIH_ENOT
VALUES
(1, "s"),
(2, "ms"),
(3, "h"),
(4, "min"),
(5, "dan");

INSERT INTO CASOVNE_KOLICINE
VALUES
(1, 2.5, 3),
(2, 1, 5),
(3, 25.5, 4),
(4, 360, 1),
(5, 10, 4);

INSERT INTO CASOVI_PRIPRAV
VALUES
(1, 4),
(2, 2),
(3, 5),
(4, 1),
(5, 3);

INSERT INTO CASOVI_KUHANJA
VALUES
(1, 5),
(2, 1),
(3, 2),
(4, 1),
(5, 4);

INSERT INTO TIPI_VALUT
VALUES
(1, "Euro"),
(2, "Dollar"),
(3, "Funt"),
(4, "Japonski jen"),
(5, "Norveške krone");

INSERT INTO CENE
VALUES
(1, 15.5, 1),
(2, 5, 1),
(3, 5.24, 1),
(4, 40.2, 1),
(5, 21.32, 1),
(6, 7.85, 1),
(7, 2.98, 1),
(8, 11.12, 1),
(9, 4.90, 1),
(10, 10.25, 1);

INSERT INTO DRZAVA
VALUES
(1, "Slovenija"),
(2, "Italija"),
(3, "Avstrija"),
(4, "Nemčija"),
(5, "Norveška");

INSERT INTO KRAJ
VALUES
(1, "Maribor", 1),
(2, "Bergen", 5),
(3, "Dunaj", 3),
(4, "Berlin", 4),
(5, "Milan", 2);

INSERT INTO ULICA
VALUES
(1, "Kirchberggasse", 3),
(2, "Fasanenstraße", 4),
(3, "Smetanova ulica", 1),
(4, "Markeveien", 2),
(5, "Via Orefici", 5),
(6, "Sparebanksgaten", 2),
(7, "Krausnickstraße", 4),
(8, "Via Pola", 5),
(9, "Gosposvetska ulica", 1),
(10, "Pappenheimgasse", 3);

INSERT INTO NASLOV
VALUES
(1, 8, 3),
(2, 25, 4),
(3, 17, 2),
(4, 75, 5),
(5, 53, 1),
(6, 21, 7),
(7, 1, 10),
(8, 67, 6),
(9, 19, 9),
(10, 5, 8);

INSERT INTO EMAIL
VALUES
(1, "ethan.hunt", 1),
(2, "jack.ryan", 1),
(3, "ivan.cankar", 2),
(4, "jason.bourne", 1),
(5, "james.bond", 3);

INSERT INTO OSEBE
VALUES
(1, "John", "McClane", NULL, 5),
(2, "Indiana", "Jones", NULL, 3),
(3, "Han", "Solo", NULL, 1),
(4, "John", "Rambo", NULL, 2),
(5, "Martin", "Riggs", NULL, 4),
(6, NULL, NULL, 5, 7),
(7, NULL, NULL, 2, 9),
(8, NULL, NULL, 4, NULL),
(9, NULL, NULL, 1, 10),
(10, NULL, NULL, 3, NULL);

INSERT INTO VIR
VALUES
(1, 3, 2, "Čokoladno - mascarponejeve kocke", "https://www.kulinarika.net/recepti/12619/sladice/cokoladno-mascarponejeve-kocke/", NULL),
(2, 5, 2, "Rebrca na žaru v pivski omaki", "https://www.kulinarika.net/recepti/20422/zar/rebrca-na-zaru-v-pivski-omaki/", NULL),
(3, NULL, 3, "Moja lazanja", NULL, NULL),
(4, 4, 1, "Kniga 1 - Mehiška tortilja", NULL, 35),
(5, NULL, 5, "Oddaja 1 - Ričet", NULL, NULL);

INSERT INTO JEDI
VALUES
(1, "Mehiška tortilja", 1),
(2, "Lazanja", 1),
(3, "Musaka", 1),
(4, "Pasulj", 2),
(5, "Jota", 2),
(6, "Ričet", 2),
(7, "Čokoladno - mascarponejeve kocke", 3),
(8, "Torta Nutella", 3),
(9, "Skutino pecivo za požerešne sosede", 3),
(10, "Sirov štrukelj", 4),
(11, "Slani polžli", 4),
(12, "Domači hitri namaz", 4),
(13, "Reberca na žaru v pivski omaki", 5),
(14, "Mesna nabodala", 5);


INSERT INTO JEDILNIKI (ID, kdaj, tipi_namenov_id, osebe_id)
VALUES
(1, '2017-05-25', 2, 1),
(2,'2017-12-05', NULL, NULL),
(3, '2018-04-04', 5, 3),
(4, '2018-01-25', 4, 8),
(5, '2018-10-20', NULL, 5);

INSERT INTO JEDI_has_JEDILNIKI
VALUES
(1 ,2 , 1),
(2 ,11 , 1),
(3 ,4 , 4),
(4 ,4 , 4),
(5 ,3 , 2),
(6 ,8 , 2),
(7 ,7 , 3),
(8 ,2 , 5),
(9 ,13 , 5),
(10 ,11 , 5);

INSERT INTO TRGOVINE
VALUES
(1, "Mercator", 4),
(2, "Spar", 1),
(3, "Tuš", 2),
(4, "Lidl", 8),
(5, "Hofer", 10);

INSERT INTO PROIZVAJALCI_SESTAVIN
VALUES
(1, "Zelene doline", 3),
(2, "Anton", 7),
(3, "Podravka", 6),
(4, "Barilla", 9),
(5, "Mlinotest", 5);

INSERT INTO SESTAVINE
VALUES
(1, "Moka", 7),
(2, "Maslo", 2),
(3, "Mleto meso", 1),
(4, "Listnate testenine", 3),
(5, "Ješprenj", 5),
(6, "Jajca", NULL),
(7, "Sir", 8),
(8, "Reberca", 10),
(9, "Svinjina", 4),
(10, "Koruza", 9),
(11, "Mleko", 1);

INSERT INTO SESTAVINE_has_TRGOVINE
VALUES
(1, 1, 4),
(2, 1, 2), 
(3, 6, NULL),
(4, 3, 1),
(5, 8, 4),
(6, 5, 1),
(7, 3, 3),
(8, 3, 5),
(9, 2, NULL),
(10, 7, 3),
(11, 9, 1),
(12, 9, 4),
(13, 4, 2),
(14, 2, 3),
(15, 8, 2),
(16, 5, 5),
(17, 1, 3);

INSERT INTO SESTAVINE_has_PROIZVAJALCI_SESTAVIN
VALUES
(1, 1, 4),
(2, 2, 2), 
(3, 6, NULL),
(4, 3, 1),
(5, 8, 4),
(6, 3, NULL),
(7, 10, 3),
(8, 3, 5),
(9, 2, NULL),
(10, 7, 3),
(11, 10, 1),
(12, 9, 4),
(13, 4, 2),
(14, 5, NULL),
(15, 8, 2),
(16, 6, 5),
(17, 1, 3);

INSERT INTO RECEPTI
VALUES
(1, 7, 2, 5 , 
"Penasto umešamo jajca in sladkor ter dodamo moko in kakav. Zlijemo v velik pekač, obložen s peki papirjem...", NULL, 3),
(2, 2, 1, 3 , 
"Mesni nadev:na olju prepražimo sesekljano čebulo, dodamo mleto meso in vse začimbe ter vse skupaj dušimo 15 minut. Na koncu mesni omaki ...", NULL, 1),
(3, 13, 4 ,1 , 
"Narezana rebra prelijte z Vegeta marinado in pustite 30 minut, da se marinirajo. Medtem pripravite omako. Nasekljano čebulo in panceto prepražite na olju...", 2, 5),
(4, 1, 3 , 2, 
"1. Koruzo in fižol stresemo v cedilo ter ju spiramo pod tekočo vodo, dokler ne postane bistra. Dobro odcedimo. 2. Olje segrejemo v globoki ponvi za cvrtje in v njej na močnem ognju popražimo govedino...", NULL, 4),
(5, 6, 1, 1, 
"Ješprenj namočimo v vodo in ga pustimo nekaj časa, najbolje čez noč. Prav tako moramo v vodo namočiti fižol, če je le - ta suh, svežega ni potrebno namakati. Prebran, opran ješprenj, kuhamo v slani vodi približno pol ure.", NULL, 5);


INSERT INTO RECEPTI_has_SESTAVINE
VALUES
(1, 1, 1, 4),
(2, 1, 2, 3),
(3, 1, 6, 1),
(4, 1, 11, 5),
(5, 2, 3, 8),
(6, 2, 4, 4),
(7, 2, 7, 1),
(8, 3, 8, 8),
(9, 3, 9 , 2),
(10, 4, 10, 7),
(11, 5, 5, 8);

CREATE TABLE EVIDENCA_SPREMENJENIH_JEDILNIKOV (
	ID INT NOT NULL,
    CAS_SPREMEMBE DATETIME NOT NULL,
    JEDILNIKI_ID INT NOT NULL,
    kdaj_STARO DATETIME NOT NULL,
    kdaj_NOVO DATETIME NOT NULL,
    TIPI_NAMENOV_ID_STARO INT,
    TIPI_NAMENOV_ID_NOVO INT,
    OSEBE_ID_STARO INT,
    OSEBE_ID_NOVO INT
);

ALTER TABLE EVIDENCA_SPREMENJENIH_JEDILNIKOV ADD CONSTRAINT PK_evidenca_spremenjenih_jedilnikov PRIMARY KEY(ID), MODIFY ID INTEGER NOT NULL AUTO_INCREMENT;

ALTER TABLE EVIDENCA_SPREMENJENIH_JEDILNIKOV ADD CONSTRAINT FK_evidenca_jedilniki FOREIGN KEY(JEDILNIKI_ID) REFERENCES JEDILNIKI(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE EVIDENCA_SPREMENJENIH_JEDILNIKOV ADD CONSTRAINT FK_evidenca_tipi_namenov_staro FOREIGN KEY(TIPI_NAMENOV_ID_STARO) REFERENCES TIPI_NAMENOV(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE EVIDENCA_SPREMENJENIH_JEDILNIKOV ADD CONSTRAINT FK_evidenca_tipi_namenov_novo FOREIGN KEY(TIPI_NAMENOV_ID_NOVO) REFERENCES TIPI_NAMENOV(ID) ON DELETE CASCADE ON UPDATE CASCADE;
    
ALTER TABLE EVIDENCA_SPREMENJENIH_JEDILNIKOV ADD CONSTRAINT FK_osebe_staro FOREIGN KEY(OSEBE_ID_STARO) REFERENCES OSEBE(ID) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE EVIDENCA_SPREMENJENIH_JEDILNIKOV ADD CONSTRAINT FK_osebe_novo FOREIGN KEY(OSEBE_ID_NOVO) REFERENCES OSEBE(ID) ON DELETE CASCADE ON UPDATE CASCADE;   
    
/*UPDATE jedilniki SET OSEBE_ID = 2;*/










